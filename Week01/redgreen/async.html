<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>light</title>

  <style type="text/css">
  .ct{
    display:flex;
  }
  .circle{
    margin:10px;
    width:100px;
    height:100px;
    border-radius: 100px;
    background: grey;
  }
  .red.light{
    background: red;
  }
  .yellow.light{
    background: yellow;
  }
  .green.light{
    background: green;
  }
  .dark{
    opacity: 0;
  }
  </style>
</head>

<body>
  <p>一个路口的红绿灯,会按照绿灯亮10s,黄灯亮2秒，红灯亮5秒的顺序无限循环，请编写js代码来控制这个红绿灯</p><br/>
  <div class="ct">
    <div class="circle green"></div>
    <div class="circle yellow"></div>
    <div class="circle red"></div>
  </div>
  <script type="text/javascript">
    function green(){
      var lights = document.getElementsByClassName('circle')
      for(var i = 0;i<3;i++){
        lights[i].classList.remove("light")
        document.getElementsByClassName("green")[0].classList.add('light')
      }
    }

    function red(){
      var lights = document.getElementsByClassName('circle')
      for(var i = 0;i<3;i++){
        lights[i].classList.remove("light")
        document.getElementsByClassName("red")[0].classList.add('light')
      }
    }

    function yellow(){
      var lights = document.getElementsByClassName('circle')
      for(var i = 0;i<3;i++){
        lights[i].classList.remove("light")
        document.getElementsByClassName("yellow")[0].classList.add('light')
      }
    }

    function sleep(time){
      return new Promise((resolve,reject)=>{
        setTimeout(resolve,time)
      })
    }

    async function go(){
      while(true){
        green()
        await sleep(1000)
        yellow()
        await sleep(1000)
        red()
        await sleep(1000)
      }
    }
    go()
  </script>
</body>
</html>